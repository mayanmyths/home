<html><head>
    <title>Mayan Myths Login</title>
    <style>
        #userpage h1{
            text-align:center;
        }
        #info{
            display:grid;
            grid-template-rows:50% 50%;
            grid-template-column:25% 25% 25%;
            height:30vh;
            width: 80vw;
            margin-left:10vw;
            background-color:#efefef;
        }
        #info #god{
            grid-row:1;
            grid-column:1;
        }
        #userpage{
        display:none;
        }
        form{
          font-size:2em;
            width:80vw;
            margin-left:10vw;
            height:80vh;
            margin-top:10vh;
            text-align:center;
        }
        form input{
            width:30vw;
            margin-left:0vw;
            border-radius:2vh;
            height:5vh;
            margin-botton:4vh;
        }
        * {
            margin:0;
            padding:0;
            box-sizing:border-box;
        }
        #s{
            text-align:center;
            width:30vw;
            margin-left:35vw;
            height:5vh;
            border-radius:2vh;
            position:relative;
            bottom:45vh;
            font-size:1.6em;
        }
        #csg{
            display:none;
        }
    </style>
  </head>
  <body>
<form>
  User name:<br>
  <input type="text" id="username"><br><br>
  User password:<br>
  <input type="password" id="psw">
 
</form>
     <button id="s">Submit</button>
<div id="userpage">
    <h1>Welcome <span class="username"></span></h1>
    <div id="info">
        <span id="god"></span>
    </div>
    <div id="csg">
        Username:
        <input id="cu"><br><br>
        Password:
        <input id="cp"><br><br>
        God:
        <input id="cg"><br><br>
        <button id="create">Create</button>
        <div id="codesnippetr"></div>
      </div>
<script>
var username="";
var passward="";
var accounts=[];
var account={}
var cusername="";
var cpassword="";
var cgod="";
var ccode="";
document.getElementById("create").addEventListener("click",
function(){
cusername = document.getElementById("cu").value;
cpassward = document.getElementById("cp").value;
cgod = document.getElementById("cg").value;
ccode = ',{"username:"'+'"'+cusername+'","passward":'+'"'+cpassward+'",god:"'+'"'+cgod+'","admin":false}';
document.getElementById("codesnippetr").innerHTML=ccode;
});
document.getElementById("s").addEventListener("click",
function(){ 
username = document.getElementById("username").value;
passward = document.getElementById("psw").value;
fetch('accounts.json')
  .then(res => res.json())
  .then(json => {
    accounts=json;
    for(var i=0; i<accounts.length;i++){
if (accounts[i].username === username){
if (accounts[i].passward === passward){
    account = accounts[i];
mp()
}
} 
}
})

}
)
function mp(){
    if(account.admin){
        document.getElementById("csg").style.display="block"
    }
    document.getElementById("userpage").style.display="grid";
document.querySelector("form").style.display="none";
    document.querySelector("#s").style.display="none";
    document.querySelectorAll(".username").forEach(function(item){
        item.innerHTML=account.username;
    })
    document.getElementById("god").innerHTML="God: "+account.god;
}
</script>
  

</body></html>
